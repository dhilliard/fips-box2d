if (NOT FIPS_IMPORT)
    cmake_minimum_required(VERSION 2.8)
    get_filename_component(FIPS_ROOT_DIR "../fips" ABSOLUTE)
    include("${FIPS_ROOT_DIR}/cmake/fips.cmake")
    project(fips-box2d)  
    fips_setup()
endif()

fips_begin_lib(box2d)
fips_src(Box2D/src/common GROUP Common)
fips_src(Box2D/src/collision GROUP Collision)
fips_src(Box2D/src/dynamics GROUP Dynamics)
fips_src(Box2D/src/rope GROUP Rope)
fips_end_lib()

target_include_directories(box2d PRIVATE Box2D/include)
target_include_directories(box2d PRIVATE Box2D/src)

IF(CMAKE_BUILD_TYPE MATCHES "Debug")
target_compile_definitions(box2d PRIVATE DEBUG=1)
ELSE(CMAKE_BUILD_TYPE MATCHES "Debug")
target_compile_definitions(box2d PRIVATE NDEBUG=1)
ENDIF(CMAKE_BUILD_TYPE MATCHES "Debug")

if (NOT FIPS_IMPORT)
    fips_finish()
endif()