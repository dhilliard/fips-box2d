if (NOT FIPS_IMPORT)
    cmake_minimum_required(VERSION 2.8)
    get_filename_component(FIPS_ROOT_DIR "../fips" ABSOLUTE)
    include("${FIPS_ROOT_DIR}/cmake/fips.cmake")
    fips_setup(PROJECT fips-box2d)
endif()

fips_begin_lib(Box2D)
fips_src(Box2D/Box2D/Box2D/Common GROUP Common)
fips_src(Box2D/Box2D/Box2D/Collision GROUP Collision)
fips_src(Box2D/Box2D/Box2D/Dynamics GROUP Dynamics)
fips_src(Box2D/Box2D/Box2D/Rope GROUP Rope)
fips_end_lib()
target_include_directories(Box2D PRIVATE Box2D/Box2D)

IF(CMAKE_BUILD_TYPE MATCHES "Debug")
target_compile_definitions(Box2D PRIVATE DEBUG=1)
ELSE(CMAKE_BUILD_TYPE MATCHES "Debug")
target_compile_definitions(Box2D PRIVATE NDEBUG=1)
ENDIF(CMAKE_BUILD_TYPE MATCHES "Debug")

if (NOT FIPS_IMPORT)
    fips_finish()
endif()